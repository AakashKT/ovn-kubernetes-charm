series: xenial

applications:

  kubernetes-master:
    charm: "cs:~aakashkt/kubernetes-master-0"
    num_units: 1
    to:
      - "0"
    expose: true

  kubernetes-worker:
    charm: "cs:~aakashkt/kubernetes-worker-0"
    num_units: 1
    to:
      - "1"
    expose: true

  ovn:
    charm: "cs:~aakashkt/ovn-3"
    options:
      gateway-physical-interface: "ens4"

relations:
  - - "kubernetes-master:cni"
    - "ovn:cni"
  - - "kubernetes-worker:cni"
    - "ovn:cni"
  - - "kubernetes-master:k8s-config"
    - "kubernetes-worker:k8s-config"

machines:
  "0":
    series: xenial
  "1":
    series: xenial
